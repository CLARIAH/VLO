== INTRODUCTION ==

Deploying the VLO happens in three steps.
These steps have to be performed in order, each step depends on the previous one(s).
The steps are:
1) Installing and configuring the solr server.
2) Setting up the ingester (putting data in the solr server).
3) Installing the VLO webapp.
This readme is found in the doc directory of the package.

The package contains the follwing structure:
doc: the documentation (including this file).
config: configuration (context fragments and solr config directory)
war: the war files; the solr one and the vlo one.

== INSTALLATION ==

STEP 0: run the setvalues.pl script and answer the questions correctly. This will _PERMANENTLY_ set some configuration values.

STEP 1: INSTALLING SOLR.

IF you want different from default logging edit the log4j properties file in war/solr/WEB-inf/classes

Make sure that the solr configuration directory (config/solr/) and all its children are readable AND writable by the user that runs the webapp.
This directory also contains the lucene database.

install the context fragment found in the config directory.

STEP 2: RUNNING THE INGESTER

Go to the bin directory.
If upgrading an existing solr database with new data (e.g., changed mappings or facets) set deleteAllFirst in the importerConfig.

run: vlo_solr_importer.sh from the bin directory.

If deleteAllFirst was set, unset it.

Optionally: add the vlo_solr_importer.sh script to the crontab.

STEP 3: INSTALLING THE VLO.

If you want to change the default logging edit the log4j properties file in war/vlo/WEB-inf/classes.

install the context fragment found in the config directory.
