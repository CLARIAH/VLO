<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

  <bean id="importerConfig" class="eu.clarin.cmdi.vlo.importer.ImporterConfig">
    <property name="facetMapping" ref="imdiMapping" />
  </bean>

  <!--
    Mapping of facets to XPATH expressions. The facets should correspond to the facets described in the
    solr/conf/schema.xml file of the SOLR Server installation
  -->

  <bean id="imdiMapping" class="eu.clarin.cmdi.vlo.importer.FacetMapping">
    <property name="idMapping" value="CMD/Header/MdSelfLink" />
    <property name="facetMap">
      <map>
        <entry key="name">
          <value>CMD/Components/Session/Name</value>
        </entry>
        <entry key="continent">
          <value>CMD/Components/Session/MDGroup/Location/Continent</value>
        </entry>
        <entry key="country">
          <value>CMD/Components/Session/MDGroup/Location/Country</value>
        </entry>
        <entry key="language">
          <value>CMD/Components/Session/MDGroup/Content/Content_Languages/Content_Language/Name</value>
        </entry>
        <entry key="organisation">
          <value>CMD/Components/Session/MDGroup/Project/Contact/Organisation</value>
        </entry>
        <entry key="genre">
          <value>CMD/Components/Session/MDGroup/Content/Genre</value>
        </entry>
        <entry key="subject">
          <value>CMD/Components/Session/MDGroup/Content/Subject</value>
        </entry>
        <entry key="description">
          <value>CMD/Components/Session/descriptions/Description</value>
        </entry>
      </map>
    </property>
  </bean>

  <bean id="olacMapping" class="eu.clarin.cmdi.vlo.importer.FacetMapping">
    <property name="idMapping" value="CMD/Header/MdSelfLink" />
    <property name="facetMap">
      <map>
        <entry key="name">
          <value>CMD/Components/olac/title</value>
        </entry>
<!--         <entry key="continent">
          <value>CMD/Components/olac</value>
        </entry>
        <entry key="country">
          <value>CMD/Components/Session/MDGroup/Location/Country</value>
        </entry>-->
        <entry key="language">
          <value>CMD/Components/olac/olac-language</value>
        </entry>
        <!-- <entry key="organisation">
          <value>CMD/Components/Session/MDGroup/Project/Contact/Organisation</value>
        </entry> -->
        <entry key="genre">
          <value>CMD/Components/olac/type</value> <!-- TODO PD is this correct, what about creator/contributor should we add as well? Title is also very often not set??-->
        </entry>
        <entry key="subject">
          <value>CMD/Components/olac/olac-subject</value>
        </entry>
        <entry key="description">
          <value>CMD/Components/olac/olac-description</value>
        </entry>
      </map>
    </property>
  </bean>

</beans>
